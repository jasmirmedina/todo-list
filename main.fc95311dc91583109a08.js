(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var s=e.g.document;if(!t&&s&&(s.currentScript&&"SCRIPT"===s.currentScript.tagName.toUpperCase()&&(t=s.currentScript.src),!t)){var a=s.getElementsByTagName("script");if(a.length)for(var i=a.length-1;i>-1&&(!t||!/^http(s?):/.test(t));)t=a[i--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=[];class s{constructor(e){this.name=e,this.tasks=[],this.isSelected=!1,this.isDefault=!1}}class a{constructor(e){this.title=e,this.complete=!1}toggleComplete(){this.complete=!this.complete}}const i=e=>document.querySelector(e),n=e=>{for(;e.firstChild;)e.removeChild(e.firstChild)},c=e=>{e.value=""},o=(e,...t)=>{const s=document.createElement(e),[a,i,n]=t;return a&&s.classList.add(a),i&&(s.textContent=i),n&&(s.type=n),s},r=()=>{if(e="projects",null===localStorage.getItem(e)){const e=new s("Default"),i=new a("Default",0);e.isDefault=!0,e.isSelected=!0,e.tasks.push(i),t.push(e)}else{const e=(e=>JSON.parse(localStorage.getItem(e)))("projects");e.forEach((e=>{const i=new s(e.name);i.isSelected=e.isSelected,i.isDefault=e.isDefault,e.tasks.forEach((e=>{const t=new a(e.title);t.complete=e.complete,i.tasks.push(t)})),t.push(i)}))}var e},d=()=>{const e=i(".main__actual-project-name");t.forEach((t=>{t.isSelected&&(e.textContent=t.name)}))},l=i(".sidebar__projects"),p=i(".main__tasks-ctn"),u=e=>{t.forEach((e=>{e.isSelected=!1})),t[e].isSelected=!0,g()},h=(e,s)=>{const a=o("div","sidebar__project"),i=o("p","sidebar__project-name"),n=o("span","sidebar__delete-project-btn");return e.isDefault||(n.textContent="X"),e.isSelected&&(a.style.backgroundColor="rgba(41, 41, 41, 0.4)"),a.addEventListener("click",(()=>u(s)),d()),n.addEventListener("click",(e=>{e.stopPropagation(),(e=>{t.splice(e,1),u(0)})(s)})),i.textContent=e.name,a.append(i,n),a},m=()=>{t.forEach(((e,s)=>{e.isSelected&&e.tasks.forEach(((e,a)=>{const i=o("div","main__task"),n=o("div"),c=o("input","","","checkbox"),r=o("p","main__task-title"),d=o("span","main__delete-task-btn");d.textContent="X",r.textContent=e.title,c.checked=e.complete,c.addEventListener("click",(()=>{e.toggleComplete(),g()})),d.addEventListener("click",(e=>{e.stopPropagation(),((e,s)=>{t[e].tasks.splice(s,1),g()})(s,a)})),e.complete&&(i.style.opacity="0.5"),n.append(c,r),i.append(n,d),p.appendChild(i)}))}))},g=()=>{var e;n(l),n(p),t.forEach(((e,t)=>{l.appendChild(h(e,t))})),m(),e=t,localStorage.setItem("projects",JSON.stringify(e))};(()=>{const e=i(".main__dc-task-btn"),s=i(".main__da-task-btn");e.addEventListener("click",(()=>{const e=t.find((e=>e.isSelected));e&&(e=>{const s=t[e];s.tasks=s.tasks.filter((e=>!e.complete)),g()})(t.indexOf(e))})),s.addEventListener("click",(()=>{const e=t.find((e=>e.isSelected));var s;e&&(s=t.indexOf(e),t[s].tasks=[],g())}))})();const f=g,b=()=>{const e=(()=>{const e=new Date,t="en-US",s={weekday:"long"},a={month:"long",day:"numeric",year:"numeric"};return{currentDay:e.toLocaleDateString(t,s),currentFullDate:e.toLocaleDateString(t,a)}})(),t=i(".sidebar__header-actual-day"),s=i(".sidebar__header-actual-date");t.textContent=e.currentDay,s.textContent=e.currentFullDate},_=e=>{if(e){const a=(e=>e.trim().charAt(0).toUpperCase()+e.trim().slice(1).toLowerCase())(e),i=new s(a);return t.push(i),!0}},k=(e,s)=>{const i=new a(e,s);t.forEach(((e,s)=>{e.isSelected&&t[s].tasks.push(i)}))},v=i(".projects-dialog"),S=i(".sidebar__add-project-btn"),C=i(".projects-dialog__cancel-project-btn"),L=i(".projects-dialog__add-project-btn"),w=i("#project-name"),y=i(".tasks-dialog"),E=i(".main__add-task-btn"),j=i(".tasks-dialog__cancel-task-btn"),D=i("#task-title"),x=i(".tasks-dialog__add-task-btn"),I=(e,t,...s)=>{s.forEach((s=>{s.addEventListener("click",(()=>{e.classList.toggle(t)}))}))},T=()=>{I(v,"projects-dialog--is-hidden",S,C),I(y,"tasks-dialog--is-hidden",E,j),L.addEventListener("click",(()=>{w.value&&(_(w.value),v.classList.toggle("projects-dialog--is-hidden"),c(w),f())})),x.addEventListener("click",(()=>{D.value&&(k(D.value),y.classList.toggle("tasks-dialog--is-hidden"),c(D),f())}))},N=e.p+"707f6fcadccb84c59f53.svg",O=e.p+"5227c770e5999dc6a25f.svg",P=i(".sidebar"),A=i(".main__handle-sidebar-btn"),F=new Image,U=new Image;F.src=N,U.src=O;const $=()=>{P.classList.contains("sidebar--is-hidden")?(document.body.style.gridTemplateColumns="1fr",P.style.position="absolute"):(document.body.style.gridTemplateColumns="auto 1fr",P.removeAttribute("style"))},J=()=>{n(A),A.appendChild(P.classList.contains("sidebar--is-hidden")?U:F)};window.matchMedia("(max-width: 800px)").onchange=e=>{e.matches&&!P.classList.contains("sidebar--is-hidden")?(P.classList.add("sidebar--is-hidden"),J(),$()):(P.classList.remove("sidebar--is-hidden"),J(),$())};const X=()=>{A.addEventListener("click",(()=>{P.classList.toggle("sidebar--is-hidden"),J(),$()})),J(),$()};r(),f(),b(),T(),X()})();
//# sourceMappingURL=main.fc95311dc91583109a08.js.map